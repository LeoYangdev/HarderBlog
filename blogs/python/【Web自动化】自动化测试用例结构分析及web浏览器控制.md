---
title: 【Web自动化】自动化测试用例结构分析及web浏览器控制
date: 2023-03-26
sidebar: auto
categories:
 - 测试
tags:
 - web自动化
---

## 标准用例结构

五大要素：用例标题、前提条件、用例步骤、预期结果、实际结果

| 用例标题     | 类型 | 前提条件     | 用例步骤                            | 预期结果                                  | 实际结果 |
| ------------ | ---- | ------------ | ----------------------------------- | ----------------------------------------- | -------- |
| 搜狗搜索功能 | 正例 | 进入搜狗首页 | 1、输入搜索关键词</br>2、按下回车键 | 1、搜索成功</br>2、搜索结果列表包含关键字 |          |

## 自动化测试用例结构对比

自动化多了一个后置动作

![image-20230326203435608](http://cdn.cookcode.xyz/img/blog/image-20230326203435608.png)

## IDE脚本对比

IDE导出的脚本缺少断言

```python
# Generated by Selenium IDE
import pytest
import time
import json
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.action_chains import ActionChains
from selenium.webdriver.support import expected_conditions
from selenium.webdriver.support.wait import WebDriverWait
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.desired_capabilities import DesiredCapabilities


class TestSearchhgwc():
    def setup_method(self, method):
        self.driver = webdriver.Chrome()
        self.vars = {}

    def teardown_method(self, method):
        self.driver.quit()

    def test_searchhgwc(self):
        self.driver.get("https://sogou.com/")
        self.driver.set_window_size(1456, 936)
        self.driver.find_element(By.ID, "query").click()
        self.driver.find_element(By.ID, "query").send_keys("霍格沃茨开发")
        self.driver.find_element(By.ID, "stb").click()
        self.driver.close()


```

增加测试断言

![image-20230326205329911](http://cdn.cookcode.xyz/img/blog/image-20230326205329911.png)

## web浏览器控制

基本操作：打开网页、刷新、回退、最大化、最小化

```py
# 实例化webdriver，get网址
def open_browser():
    driver = webdriver.Chrome()
    # 调用get方法
    driver.get("https://ceshiren.com")
    time.sleep(2)
    # 刷新浏览器
    driver.refresh()
    time.sleep(2)
    # 退回上一步
    driver.back()
    time.sleep(2)
    # 最大化
    driver.maximize_window()
    time.sleep(2)
    # 最小化
    driver.minimize_window()
    time.sleep(2)
```

